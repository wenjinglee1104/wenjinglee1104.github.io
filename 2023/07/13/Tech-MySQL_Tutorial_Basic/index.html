<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="Tech | MySQL_Tutorial_Basic" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Wenjing | è®°å½•</title>

    
        
            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/reset.css">

            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/markdown.css">

            
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/fonts.css">
 
            <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
            
        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Wenjing</a> 
            <span class="description"></span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/tech/">tech</a></li>
            
        
            
                <li><a href="/biomed/">biomed</a></li>
            
        
            
                <li><a href="/daily/">daily</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            Tech | MySQL_Tutorial_Basic
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="post-toc-text">1.æ•°æ®åº“</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="post-toc-text">2.æ•°æ®è¡¨</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="post-toc-text">åŸºç¡€æ“ä½œ</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%A1%A8%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="post-toc-text">è¡¨çš„æ“ä½œ</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-%E6%95%B0%E6%8D%AE%E6%9F%A5%E8%AF%A2"><span class="post-toc-text">3.æ•°æ®æŸ¥è¯¢</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-%E6%95%B0%E6%8D%AE%E6%9B%B4%E6%96%B0"><span class="post-toc-text">4.æ•°æ®æ›´æ–°</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-%E5%87%BD%E6%95%B0%E3%80%81%E8%B0%93%E8%AF%8D%E5%92%8CCASE"><span class="post-toc-text">5. å‡½æ•°ã€è°“è¯å’ŒCASE</span></a></li></ol>
        
        <h2 id="1-æ•°æ®åº“"><a href="#1-æ•°æ®åº“" class="headerlink" title="1.æ•°æ®åº“"></a>1.æ•°æ®åº“</h2><ul>
<li>æ•°æ®åº“çš„æ¦‚å¿µ</li>
</ul>
<p>  æ•°æ®åº“DB: å¤§é‡æ•°æ®ä¿å­˜èµ·æ¥ï¼Œé€šè¿‡è®¡ç®—æœºåŠ å·¥è€Œæˆçš„å¯ä»¥è¿›è¡Œé«˜æ•ˆè®¿é—®çš„æ•°æ®é›†åˆ</p>
<p>  æ•°æ®åº“ç®¡ç†ç³»ç»ŸDBMS: ç”¨æ¥ç®¡ç†æ•°æ®åº“çš„è®¡ç®—æœºç³»ç»Ÿ</p>
<p>  DBMSç§ç±»: å±‚æ¬¡å‹æ•°æ®åº“HDBï¼Œå…³ç³»å‹æ•°æ®åº“RDB </p>
<ul>
<li><p>æ•°æ®åº“çš„ç»“æ„</p>
<p>äºŒç»´è¡¨çš„å½¢å¼ï¼Œè¡Œä¸ºè®°å½•ï¼Œåˆ—ä¸ºå­—æ®µ</p>
</li>
<li><p>SQLè¯­å¥</p>
<p>DDL(æ•°æ®å®šä¹‰è¯­è¨€): CREATEã€DROP ã€ALTER</p>
<p>DML(æ•°æ®æ“ä½œè¯­è¨€)ï¼šSELECTã€INSERTã€UPDATEã€DELETE</p>
<p>DCL(æ•°æ®æ§åˆ¶è¯­è¨€)ï¼šCOMMITã€ROLLBACKã€REVOKE</p>
</li>
</ul>
<h2 id="2-æ•°æ®è¡¨"><a href="#2-æ•°æ®è¡¨" class="headerlink" title="2.æ•°æ®è¡¨"></a>2.æ•°æ®è¡¨</h2><h3 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h3><ul>
<li><p>åˆ›å»ºæ•°æ®åº“</p>
<pre><code class="sql">CREATE DATABASE SHOP;
</code></pre>
</li>
<li><p>åˆ›å»ºæ•°æ®è¡¨</p>
<pre><code class="sql">CREATE TABLE Shohin
(shohin_id       CHAR(4)       NOT NULL,
 shohin_mei      VARCHAR(100)  NOT NULL,
 shohin_bunrui   VARCHAR(32)   NOT NULL,
 hanbai_tanka    INTEGER,
 shiire_tanka    INTEGER,
 torokubi        DATE,
 PRIMARY KEY (shohin_id));
</code></pre>
</li>
<li><p>åˆ é™¤è¡¨</p>
<pre><code class="sql">DROP TABLE Shohin;
</code></pre>
</li>
<li><p>è¡¨å®šä¹‰çš„æ›´æ–°</p>
<pre><code class="sql">ALTER TABLE Shohin ADD COLUMN shohin_mei_kana VARCHAR(100);
ALTER TABLE Shohin DROP COLUMN shohin_mei_kana;
</code></pre>
</li>
</ul>
<h3 id="è¡¨çš„æ“ä½œ"><a href="#è¡¨çš„æ“ä½œ" class="headerlink" title="è¡¨çš„æ“ä½œ"></a>è¡¨çš„æ“ä½œ</h3><ul>
<li><p>åŠ å‡æ³•ï¼ˆè¡Œæ“ä½œï¼‰</p>
<pre><code class="sql">--ä½¿ç”¨UNIONå¯¹è¡¨è¿›è¡ŒåŠ æ³•è¿ç®—
SELECT shohin_id, shohin_mei FROM Shohin
UNION 
SELECT shohin_id, shohin_mei FROM Shohin2;
--åœ¨UNIONçš„ç»“æœä¸­ä¿ç•™é‡å¤è¡Œ
SELECT shohin_id, shohin_mei FROM Shohin
UNION ALL
SELECT shohin_id, shohin_mei FROM Shohin2;
</code></pre>
</li>
<li><p>è¿ç»“ï¼ˆåˆ—æ“ä½œï¼‰</p>
<pre><code class="sql">--å°†ä¸¤å¼ è¡¨è¿›è¡Œå†…è¿ç»“ï¼ˆä¸¤å¼ è¡¨åŒæ—¶å­˜åœ¨ï¼‰
SELECT TS.tenpo_id, TS.tenpo_mei, TS.shohin_id, S.shohin_mei, 
S.hanbai_tanka
FROM  TenpoShohin AS TS INNER JOIN Shohin AS S
ON TS.shohin_id = S.shohin_id;
WHERE TS.tenpo_id = &#39;000A&#39;;
--å°†ä¸¤å¼ è¡¨è¿›è¡Œå¤–è”ç»“ï¼ˆä¸»è¡¨ä¸­çš„æ•°æ®ä¼šå…¨éƒ¨æŸ¥å‡ºï¼Œæ–¹å‘è°ƒæ¢æ„ä¹‰å®Œå…¨ä¸åŒï¼‰
SELECT TS.tenpo_id, TS.tenpo_mei, S.shohin_id, S.shohin_mei,
S.hanbai_tanka
FROM TenpoShohin AS TS RIGHT OUTER JOIN Shohin AS S
ON TS.shohin_id = S.shohin_id
</code></pre>
</li>
</ul>
<h2 id="3-æ•°æ®æŸ¥è¯¢"><a href="#3-æ•°æ®æŸ¥è¯¢" class="headerlink" title="3.æ•°æ®æŸ¥è¯¢"></a>3.æ•°æ®æŸ¥è¯¢</h2><ul>
<li><p>æŸ¥è¯¢è¯­å¥</p>
<pre><code class="sql">--æŸ¥è¯¢æ‰€æœ‰å­—æ®µ
SELECT * FROM Shohin;

--æŸ¥è¯¢å…·ä½“å­—æ®µ
SELECT shohin_id, shohin_mei, shiire_tanka FROM Shohin;

--ä¸ºåˆ—è®¾å®šåˆ«å
SELECT  shohin_id  AS id, 
        shohin_mei AS name,
        shiire_tanka AS &quot;è¿›è´§å•ä»·&quot;
FROM Shohin;

--æ ¹æ®WHEREé€‰æ‹©è®°å½•
SELECT shohin_mei, shohin_bunrui
FROM   Shohin
WHERE  shohin_bunrui = &#39;è¡£æœ&#39;ï¼›
</code></pre>
<pre><code class="sql">--æŸ¥è¯¢å¸¸æ•°
SELECT  38 AS kazu, &#39;2009-02-24&#39; AS hizuke, shohin_id
FROM Shohin;
</code></pre>
<pre><code class="sql">--ä»ç»“æœä¸­åˆ é™¤é‡å¤è¡Œ,å¤šä¸ªå­—æ®µæ—¶åªä½œç”¨åœ¨ç¬¬ä¸€ä¸ªå­—æ®µ
SELECT DISTINCT shohin_bunrui, torokubi
FROM Shohin;
</code></pre>
</li>
<li><p>è¿ç®—ç¬¦</p>
<pre><code class="sql">--åˆ¤æ–­ç©ºæˆ–éç©º
SELECT * FROM Shohin WHERE shohin_mei IS NULL;
</code></pre>
<pre><code class="sql">--è®¡ç®—è¡¨è¾¾å¼
SELECT  shohin_mei, hanbai_tanka, hanbai_tanka * 2 AS &quot;hanbai_tanka_*2&quot;
FROM Shohin;
</code></pre>
<pre><code class="sql">--æ¯”è¾ƒè¿ç®—ç¬¦
--é€‰å–å‡ºhanbai_tankaåˆ—çš„å€¼ä¸æ˜¯500çš„è®°å½•
SELECT shohin_mei, shohin_bunrui
FROM Shohin
WHERE hanbai_tanka &lt;&gt; 500;
</code></pre>
<pre><code class="sql">--é€‰å–å‡ºç™»è®°æ—¥æœŸåœ¨2009å¹´9æœˆ27æ—¥ä¹‹å‰çš„è®°å½•
SELECT shohin_mei, shohin_bunrui, hanbai_tanka
FROM Shohin
WHERE torokubi &lt; &#39;2009-09-27&#39;;
</code></pre>
<pre><code class="sql">--é€‰å–å‡ºé”€å”®å•ä»·æ¯”è¿›è´§å•ä»·é«˜å‡º500æ—¥å…ƒä»¥ä¸Šçš„è®°å½•
SELECT shohin_mei, hanbai_tanka, shiire_tanka
FROM Shohin
WHERE hanbai_tanka - shiire_tanka &gt;= 500;
</code></pre>
<pre><code class="sql">--é€»è¾‘è¿ç®—ç¬¦
--åœ¨æŸ¥è¯¢æ¡ä»¶ä¸­æ·»åŠ NOTè¿ç®—ç¬¦
SELECT shohin_mei, shohin_bunrui, hanbai_tanka
FROM   Shohin
WHERE NOT hanbai_tanka &gt;= 1000;
</code></pre>
</li>
<li><p>èšåˆ</p>
<pre><code class="sql">--èšåˆå‡½æ•°ï¼šCOUNTã€SUMã€AVGã€MAXã€MIN
--èšåˆï¼šå°†å¤šè¡Œæ±‡æ€»ä¸ºä¸€è¡Œ
--è®¡ç®—è¡¨ä¸­æ•°æ®çš„è¡Œæ•°
SELECT COUNT(*) FROM Shohin;
--è®¡ç®—NULLä»¥å¤–æ•°æ®çš„è¡Œæ•°
SELECT COUNT(shiire_tanka) FROM Shohin;
--è®¡ç®—åˆè®¡å€¼
SELECT SUM(hanbai_tanka) FROM Shohin;
--è®¡ç®—å¹³å‡å€¼
SELECT AVG(hanbai_tanka) FROM Shohin;
--è®¡ç®—ç™»è®°æ—¥æœŸçš„æœ€å¤§å€¼å’Œæœ€å°å€¼
SELECT MAX(torokubi), MIN(torokubi) FROM Shohin;
</code></pre>
</li>
<li><p>åˆ†ç»„</p>
<p><del>åœ¨SELECTå­å¥ä¸­ä¹¦å†™èšåˆé”®å’Œèšåˆå‡½æ•°ä¹‹å¤–çš„åˆ—å</del></p>
<pre><code class="sql">--æŒ‰ç…§å•†å“ç§ç±»ç»Ÿè®¡æ•°æ®è¡Œæ•°
SELECT shohin_bunrui, COUNT(*)
FROM Shohin
GROUP BY shohin_bunrui;
</code></pre>
<pre><code class="sql">--åŒæ—¶ä½¿ç”¨WHEREå’ŒGROUP BYå­å¥
SELECT shiire_tanka, COUNT(*)
FROM   Shohin
WHERE  shohin_bunrui = &#39;è¡£æœ&#39;
GROUP BY shiire_tanka;
</code></pre>
<pre><code class="sql">--ä¸ºèšåˆç»“æœæŒ‡å®šæ¡ä»¶
SELECT    shohin_bunrui, AVG(shiire_tanka), AVG(hanbai_tanka)
FROM      Shohin
GROUP BY  shohin_bunrui
HAVING AVG(hanbai_tanka) &gt;= 2500;
</code></pre>
</li>
<li><p>æ’åº</p>
<pre><code class="sql">--ASC å’Œ DESCåˆ†åˆ«ä¸ºå‡åºå’Œé™åºã€‚åœ¨ORDER BYå­å¥ä¸­é…ç½®å¤šä¸ªæ’åºé”®ï¼Œä¼šä¼˜å…ˆä½¿ç”¨å·¦ä¾§çš„é”®ã€‚
SELECT     shohin_id, shohin_mei, shiire_tanka, hanbai_tanka
FROM       Shohin
ORDER BY   shiire_tanka ASC, hanbai_tanka DESC
</code></pre>
</li>
<li><p>è§†å›¾</p>
<pre><code class="sql">--åˆ›å»ºè§†å›¾
CREATE VIEW ShohinSum (shohin_bunrui, cnt_shohin)
AS
SELECT shohin_bunrui, COUNT(*)
FROM   Shohin
GROUP BY shohin_bunrui;
</code></pre>
<pre><code class="sql">--è§†å›¾çš„åµŒå¥—
CREATE VIEW ShohinSumJim(shohin_bunrui_backup, cnt_shohin_backup)
AS
SELECT shohin_bunrui, cnt_shohin
FROM   ShohinSum 
WHERE  shohin_bunrui = &#39;åŠå…¬ç”¨å“&#39;;
</code></pre>
<pre><code class="sql">--åˆ é™¤è§†å›¾
DROP VIEW ShohinSum;
</code></pre>
</li>
<li><p>å­æŸ¥è¯¢&#x2F;å…³è”å­æŸ¥è¯¢</p>
<pre><code class="sql">--å­æŸ¥è¯¢æ˜¯å°†ç”¨æ¥å®šä¹‰è§†å›¾çš„SELECTè¯­å¥ç›´æ¥ç”¨äºFROMå­å¥ä¸­
SELECT shohin_bunrui, cnt_shohin
FROM (SELECT shohin_bunrui, COUNT(*) AS cnt_shohin
     FROM Shohin) 
AS ShohinSum;
</code></pre>
<pre><code class="sql">--å¢åŠ å­æŸ¥è¯¢çš„åµŒå¥—å±‚æ•°
SELECT shohin_bunrui, cnt_shohin
FROM (SELECT *
        FROM (SELECT shohin_bunrui, COUNT(*) AS cnt_shohin
              FROM Shohin
              GROUP BY shohin_bunrui) AS ShohinSum
        WHERE cnt_shohin = 4) AS ShohinSum2;
)
</code></pre>
<pre><code class="sql">--æ ‡é‡å­æŸ¥è¯¢ï¼Œå³è¿”å›å•ä¸€åˆ¶çš„å­æŸ¥è¯¢
--é€‰å–å‡ºé”€å”®å•ä»·é«˜äºå…¨éƒ¨å•†å“çš„å¹³å‡å•ä»·çš„å•†å“
SELECT shohin_id, shohin_mei, hanbai_mei
FROM   Shohin
WHERE  hanbai_tanka &gt; ( SELECT AVG(hanbai_tanka)
                        FROM Shohin);
--åœ¨havingå­å¥ä¸­ä½¿ç”¨æ ‡é‡å­æŸ¥è¯¢
SELECT     shohin_bunrui, AVG(hanbai_tanka)
FROM       Shohin
GROUP  BY  shohin_bunrui
HAVING AVG(hanbai_tanka) &gt; (SELECT AVG(hanbai_tanka) FROM Shohin);
</code></pre>
<pre><code class="sql">--å…³è”å­æŸ¥è¯¢
--é€šè¿‡å…³è”å­æŸ¥è¯¢æŒ‰ç…§å•†å“ç§ç±»å¯¹å¹³å‡é”€å”®å•ä»·è¿›è¡Œæ¯”è¾ƒ
SELECT shohin_id, shohin_mei, hanbai_tanka
FROM   Shohin  AS S1
WHERE  hanbai_tanka &gt; ( SELECT   AVG(hanbai_tanka)
                        FROM     Shohin AS S2
                        WHERE    S1.shohin_bunrui = S2.shohin_bunrui
                        GROUP BY shohin_bunrui;
                      )
</code></pre>
</li>
</ul>
<h2 id="4-æ•°æ®æ›´æ–°"><a href="#4-æ•°æ®æ›´æ–°" class="headerlink" title="4.æ•°æ®æ›´æ–°"></a>4.æ•°æ®æ›´æ–°</h2><ul>
<li><p>æ’å…¥</p>
<pre><code class="sql">--å‘è¡¨ä¸­æ’å…¥ä¸€è¡Œæ•°æ®
INSERT INTO ShohinIns(shohin_id, shohin_mei, shohin_bunrui, hanbai_tanka, shiire_tanka, torokuri) VALUES(&#39;0001&#39;, &#39;Tæ¤è¡«&#39;, &#39;è¡£æœ&#39;, 1000, 500, &#39;2009-09-20&#39;);

--å°†å•†å“è¡¨ä¸­çš„æ•°æ®å¤åˆ¶åˆ°å•†å“å¤åˆ¶è¡¨ä¸­
INSERT INTO ShohinCopy (shohin_id, shohin_mei, shohin_bunrui,
                        hanbai_tanka, shiire_tanka, torokuri)
SELECT shohin_id, shohin_mei, shohin_bunrui,
hanbai_tanka, shiire_tanka, torokubi
FROM Shohin;
</code></pre>
</li>
<li><p>åˆ é™¤</p>
<pre><code class="sql">--æ¸…ç©ºè¡¨
DELETE FROM Shohin;

--åˆ é™¤é”€å”®å•ä»·å¤§äºç­‰äº4000æ—¥å…ƒçš„æ•°æ®
DELETE FROM Shohin WHERE hanbai_tanka &gt;= 4000;
</code></pre>
</li>
<li><p>æ›´æ–°</p>
<pre><code class="sql">--å°†ç™»è®°æ—¥æœŸå…¨éƒ¨æ›´æ–°ä¸º&quot;2009-10-10&quot;
UPDATE Shohin SET torokubi = &#39;2009-10-10&#39;;

--å°†å•†å“ç§ç±»ä¸ºå¨æˆ¿ç”¨å…·çš„è®°å½•çš„é”€å”®å•ä»·æ›´æ–°ä¸ºåŸæ¥çš„åå€
UPDATE Shohin
SET hanbai_tanka = hanbai_tanka * 10
WHERE shohin_bunrui = &#39;å¨æˆ¿ç”¨å…·&#39;

--ä½¿ç”¨NULLè¿›è¡Œæ›´æ–°
UPDATE Shohin SET torokubi = NULL WHERE shohin_id = &#39;0008&#39;;
</code></pre>
</li>
<li><p>äº‹åŠ¡</p>
<pre><code class="sql">--äº‹åŠ¡ç¬¦åˆACID,å°†è¿åŠ¨Tæ¤çš„é”€å”®å•ä»·é™ä½1000å…ƒï¼Œå°†Tæ¤çš„é”€å”®å•ä»·ä¸Šæµ®1000å…ƒ
START TRANSACTION;
 UPDATE Shohin
     SET hanbai_tanka = hanbai_tanka - 1000
 WHERE shohin_mei = &#39;è¿åŠ¨Tæ¤&#39;;
 
 UPDATE Shohin
     SET hanbai_tanka = hanbai_tanka - 1000
 WHERE shohin_mei = &#39;Tæ¤è¡«&#39;;
COMMIT;
</code></pre>
</li>
</ul>
<h2 id="5-å‡½æ•°ã€è°“è¯å’ŒCASE"><a href="#5-å‡½æ•°ã€è°“è¯å’ŒCASE" class="headerlink" title="5. å‡½æ•°ã€è°“è¯å’ŒCASE"></a>5. å‡½æ•°ã€è°“è¯å’ŒCASE</h2><ul>
<li><p>å‡½æ•°</p>
<pre><code class="sql">--ç®—æœ¯å‡½æ•°
--è®¡ç®—æ•°å€¼çš„ç»å¯¹å€¼
SELECT m, ABS(m) AS abs_col FROM SampleMath;
--è®¡ç®—é™¤æ³•ï¼ˆn / pï¼‰çš„ä½™æ•°
SELECT n, p, MOD(n, p) AS mod_col FROM SampleMath;
--å¯¹måˆ—çš„æ•°å€¼è¿›è¡Œnåˆ—ä½æ•°çš„å››èˆäº”å…¥å¤„ç†
SELECT m, n, ROUND(m, n) AS round_col FROM SampleMath;
--æ‹¼æ¥å­—ç¬¦ä¸²
SELECT str1, str2, str1 || str2 AS str_concat FROM SampleStr;
--è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦
SELECT str1, LENGTH(str1) AS len_str FROM SampleStr;
--å¤§å†™è½¬æ¢å°å†™
SELECT str1, LOWER(str1) AS low_str FROM SampleStr 
WHERE str1 IN (&quot;ABC&quot;, &quot;aBC&quot;, &quot;abc&quot;);
--å­—ç¬¦ä¸²æ›¿æ¢
SELECT str1, str2, str3
       REPLACE(str1, str2, str3) AS rep_str
FROM SampleStr;
--å­—ç¬¦ä¸²æˆªå–ï¼ˆç¬¬3ã€4ä½çš„å­—ç¬¦ï¼‰
SELECT str1, SUBSTRING(str1 FROM 3 FOR 2) AS sub_str
FROM SampleStr;
--å°†å°å†™è½¬æ¢ä¸ºå¤§å†™ï¼Œåä¹‹ä¸ºLOWER
SELECT str1, UPPER(str1) AS up_str FROM SampleStr 
WHERE str1 IN (&#39;ABC&#39;, &#39;aBC&#39;, &#39;abc&#39;);
</code></pre>
<pre><code class="sql">--æ—¥æœŸå‡½æ•°ï¼Œè·å¾—å½“å‰æ—¥æœŸ
SELECT CURRENT_DATE;
--è·å¾—å½“å‰æ—¶é—´
SELECT CURRENT_TIMEï¼›
--è·å¾—å½“å‰æ—¥æœŸæ—¶é—´
SELECT CURRENT_TIMESTAMP;
--æˆªå–æ—¥æœŸå…ƒç´ 
SELECT CURRENT_TIMESTAMP
       EXTRACT(YEAR FROM CURRENT_TIMESTAMP) AS year;
</code></pre>
<pre><code class="sql">--ç±»å‹è½¬æ¢
--å°†å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ä¸ºæ•°å€¼ç±»å‹
SELECT CAST(&#39;0001&#39; AS INTEGER) AS int_col;
--å°†å­—ç¬¦ä¸²ç±»å‹è½¬æ¢ä¸ºæ—¥æœŸç±»å‹
SELECT CAST(&#39;2009-12-14&#39; AS DATE) AS date_col;
</code></pre>
</li>
<li><p>è°“è¯</p>
<pre><code class="sql">--è°“è¯ï¼Œæ˜¯éœ€è¦æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å‡½æ•°ï¼Œè¯¥æ¡ä»¶ä¸ºâ€œè¿”å›å€¼ä¸ºçœŸå€¼â€
--ä½¿ç”¨LIKEè¿›è¡Œå‰æ–¹ä¸€è‡´çš„æŸ¥è¯¢ï¼Œâ€œ%â€ä»£è¡¨â€œ0å­—ç¬¦ä»¥ä¸Šçš„ä»»æ„å­—ç¬¦ä¸²â€
SELECT * FROM SampleLike WHERE strcol LIKE &#39;ddd%&#39;;
--ä½¿ç”¨LIKEè¿›è¡Œä¸­é—´ä¸€è‡´æŸ¥è¯¢
SELECT * FROM SampleLike WHERE strcol LIKE &#39;%ddd%&#39;;
--ä½¿ç”¨LIKEå’Œä¸‹åˆ’çº¿è¿›è¡Œåæ–¹ä¸€è‡´æŸ¥è¯¢ï¼ˆå¯¹åº”ä¸ªæ•°ï¼‰
SELECT * FROM SampleLike WHERE strcol LIKE &#39;abc___&#39;;
--èŒƒå›´æŸ¥è¯¢
SELECT shohin_mei, hanbai_tanka FROM Shohin
WHERE hanbai_tanka BETWEEN 100 AND 1000;
--åˆ¤æ–­æ˜¯å¦ä¸ºç©º
SELECT shohin_mei, shiire_tanka FROM Shohin WHERE shiire_tanka IS NULL;
--é€šè¿‡INæ¥æŒ‡å®šå¤šä¸ªè¿›è´§å•ä»·è¿›è¡ŒæŸ¥è¯¢
SELECT shohin_mei, shiire_tanka FROM Shohin WHERE shiire_tanka IN (320, 500, 5000);
--ä½¿ç”¨å­æŸ¥è¯¢ä½œä¸ºINè°“è¯çš„å‚æ•°
SELECT shohin_mei, hanbai_tanka
FROM Shohin
WHERE shohin_id IN (SELECT shohin_id FROM TenpoShohin WHERE tenpo_id = &#39;000C&#39;);
--è°“è¯çš„ä½œç”¨æ˜¯â€œåˆ¤æ–­æ˜¯å¦å­˜åœ¨æ»¡è¶³æŸç§æ¡ä»¶çš„è®°å½•â€ï¼Œå­˜åœ¨åˆ™è¿”å›â€œçœŸâ€
SELECT shohin_mei, hanbai_tanka
FROM Shohin AS S
WHERE EXISTS (SELECT *
              FROM TenpoShohin AS TS
              WHERE TS.tenpo_id = &#39;000C&#39;
              AND TS.shohin_id = S.shohin_id
             );
</code></pre>
</li>
<li><p>CASE</p>
<pre><code class="sql">--åˆ†ä¸ºç®€å•è¡¨è¾¾å¼å’Œæœç´¢è¡¨è¾¾å¼
CASE WHEN &lt;åˆ¤æ–­è¡¨è¾¾å¼&gt; THEN &lt;è¡¨è¾¾å¼&gt;
     WHEN &lt;åˆ¤æ–­è¡¨è¾¾å¼&gt; THEN &lt;è¡¨è¾¾å¼&gt;
     WHEN &lt;åˆ¤æ–­è¡¨è¾¾å¼&gt; THEN &lt;è¡¨è¾¾å¼&gt;
     WHEN &lt;åˆ¤æ–­è¡¨è¾¾å¼&gt; THEN &lt;è¡¨è¾¾å¼&gt;
     ...
     ELSE &lt;è¡¨è¾¾å¼&gt;
END
--é€šè¿‡CASEè¡¨è¾¾å¼å°†A-Cçš„å­—ç¬¦ä¸²åŠ å…¥åˆ°å•†å“åˆ†ç±»ä¸­
SELECT shohin_mei,
       CASE WHEN shohin_bunrui = &#39;è¡£æœ&#39; THEN &#39;A:&#39; || shohin_bunrui
            WHEN  shohin_bunrui = &#39;åŠå…¬ç”¨å“&#39; THEN &#39;B:&#39; || shohin_bunrui
            WHEN  shohin_bunrui = &#39;å¨æˆ¿ç”¨å…·&#39; THEN &#39;C:&#39; || shohin_bunrui
            ELSE NULL
       END AS abc_shohin_bunrui
FROM Shohin;
--ä½¿ç”¨CASEBè¡¨è¾¾å¼è¿›è¡Œè¡Œåˆ—è½¬æ¢
SELECT SUM(CASE WHEN shohin_bunrui = &#39;è¡£æœ&#39; THEN hanbai_tanka ELSE 0 END) 
       AS sum_tanka_ihuku,
       SUM(CASE WHEN shohin_bunrui = &#39;å¨æˆ¿ç”¨å…·&#39; THEN hanbai_tanka ELSE 0            END) AS sum_tanka_kitchen,
       SUM(CASE WHEN shohin_bunrui = &#39;åŠå…¬ç”¨å“&#39; THEN hanbai_tanka ELSE 0            END) AS sum_tanka_jimu
FROM Shohin;
</code></pre>
</li>
</ul>
<p><strong>è‡³æ­¤ï¼ŒMySQLçš„åŸºç¡€æ¡†æ¶å·²ç»åŸºæœ¬å®Œæˆï¼Œæ’’èŠ±ï¼</strong></p>
<p><img src="https://raw.githubusercontent.com/wenjinglee1104/blog_file/master/image/202307131349603.png" alt="cee97bb6c1f0f1c03a8aac937111954"></p>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-07-13</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« LiWenjing</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/Tech/'>
                            Tech
                        </a>
                    
                </span>
             
             
        
        </i>
    </div>
    
        

     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            Â© 1949-2023 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠä¸€ç™¾å¹´åæ²¡æœ‰ä½ ä¹Ÿæ²¡æœ‰æˆ‘ğŸŒŠ</span>
            
                <span class="footer-last-span-right"><i>æœ¬ç«™ç”±<a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/index.html">Hexo</a>é©±åŠ¨ï½œä½¿ç”¨<a target="_blank" rel="noopener" href="https://github.com/HiNinoJay/hexo-theme-A4">Hexo-theme-A4</a>ä¸»é¢˜</i></span>
            
    
</div>


    
        
<link rel="stylesheet" href="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/css/a11y-dark.min.css">

        
<script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/highlight.min.js"></script>

        
<script src="https://jsd.onmicrosoft.cn/npm/hexo-theme-a4@latest/source/js/highlightjs-line-numbers.js"></script>

    


<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>